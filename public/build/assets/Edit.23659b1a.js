import{H as L,L as N,b as a,c as l,f as n,g as s,j as t,k as i,n as f,l as j,q as _,F as w,y as x,m}from"./main.4a6f243a.js";import B from"./Layout.1e9b2d92.js";import C from"./TextInput.cb7c748c.js";import F from"./FileInput.838c6058.js";import H from"./SelectInput.a92a919a.js";import S from"./LoadingButton.b34bd7dc.js";import{_ as E}from"./_plugin-vue_export-helper.cdc0426e.js";import"./Logo.5cc1eb61.js";import"./Icon.d1bc1079.js";import"./Dropdown.5c540676.js";import"./MainMenu.622d5cb0.js";import"./FlashMessages.e98316ad.js";const I={components:{FileInput:F,Head:L,Link:N,LoadingButton:S,SelectInput:H,TextInput:C},layout:B,props:{user:Object,roles:Object},remember:"form",data(){return{form:this.$inertia.form({_method:"put",name:this.$props.user.data.name,email:this.$props.user.data.email,user_type:this.$props.roles[this.$props.user.data.user_type],password:null,password_confirmation:null,avatar:null})}},methods:{update(){this.form.post(`/panel/users/${this.$props.user.data.id}`,{onSuccess:()=>this.form.reset("password","avatar")})},destroy(){confirm("Are you sure you want to delete this user?")&&this.$inertia.delete(`/panel/users/${this.$props.user.data.id}`)}}},P={class:"flex justify-between mb-8 max-w-3xl"},T={class:"text-3xl font-bold"},A=m("Users/"),D={class:"text-gray-700 font-medium"},O=["src"],q={class:"max-w-3xl bg-white rounded-md shadow overflow-hidden"},M={class:"flex flex-wrap -mb-8 -mr-6 p-8"},R=["value"],z={class:"flex items-center px-8 py-4 bg-gray-50 border-t border-gray-100"},G=m("Update User"),J={class:"text-3xl font-bold mt-16"},K=m("Posts"),Q={class:"bg-white rounded-md shadow overflow-x-auto my-7 p-4"},W={class:"w-full whitespace-nowrap"},X=t("tr",{class:"text-left font-bold"},[t("th",{class:"pb-4 pt-6 px-6"},"Title"),t("th",{class:"pb-4 pt-6 px-6",colspan:"2"},"created at")],-1),Y={class:"border-t"},Z=["src"],$={class:"border-t"},ee={class:"w-px border-t"},oe={key:0},te=t("td",{class:"px-6 py-4 border-t",colspan:"4"},"No posts found.",-1),re=[te];function se(y,r,p,le,o,u){var h;const g=a("Head"),d=a("Link"),c=a("text-input"),v=a("select-input"),V=a("file-input"),k=a("loading-button"),U=a("icon");return l(),n("div",null,[s(g,{title:`${o.form.name}`},null,8,["title"]),t("div",P,[t("h1",T,[s(d,{class:"text-indigo-400 hover:text-indigo-600",href:"/panel/users"},{default:i(()=>[A]),_:1}),t("span",D,f(o.form.name),1)]),t("img",{src:p.user.data.avatar,class:"block ml-4 w-10 h-10 rounded-full"},null,8,O)]),t("div",q,[t("form",{onSubmit:r[7]||(r[7]=j((...e)=>u.update&&u.update(...e),["prevent"]))},[t("div",M,[s(c,{modelValue:o.form.name,"onUpdate:modelValue":r[0]||(r[0]=e=>o.form.name=e),error:o.form.errors.name,class:"pb-8 pr-6 w-full lg:w-1/2",label:"Full name"},null,8,["modelValue","error"]),s(c,{modelValue:o.form.email,"onUpdate:modelValue":r[1]||(r[1]=e=>o.form.email=e),error:o.form.errors.email,class:"pb-8 pr-6 w-full lg:w-1/2",label:"Email"},null,8,["modelValue","error"]),s(c,{modelValue:o.form.password,"onUpdate:modelValue":r[2]||(r[2]=e=>o.form.password=e),error:o.form.errors.password,class:"pb-8 pr-6 w-full lg:w-1/2",type:"password",autocomplete:"new-password",label:"Password"},null,8,["modelValue","error"]),s(c,{modelValue:o.form.password_confirmation,"onUpdate:modelValue":r[3]||(r[3]=e=>o.form.password_confirmation=e),error:o.form.errors.password_confirmation,class:"pb-8 pr-6 w-full lg:w-1/2",type:"password",autocomplete:"new-password",label:"Password confirmation"},null,8,["modelValue","error"]),s(v,{modelValue:o.form.user_type,"onUpdate:modelValue":r[4]||(r[4]=e=>o.form.user_type=e),error:o.form.errors.user_type,class:"pb-8 pr-6 w-full lg:w-1/2",label:"Role"},{default:i(()=>[(l(!0),n(w,null,x(p.roles,(e,b)=>(l(),n("option",{key:b,value:e},f(b),9,R))),128))]),_:1},8,["modelValue","error"]),s(V,{modelValue:o.form.avatar,"onUpdate:modelValue":r[5]||(r[5]=e=>o.form.avatar=e),error:o.form.errors.avatar,class:"pb-8 pr-6 w-full lg:w-1/2",type:"file",accept:"image/*",label:"Avatar"},null,8,["modelValue","error"])]),t("div",z,[p.user.deleted_at?_("",!0):(l(),n("button",{key:0,class:"text-red-600 hover:underline",tabindex:"-1",type:"button",onClick:r[6]||(r[6]=(...e)=>u.destroy&&u.destroy(...e))},"Delete User")),s(k,{loading:o.form.processing,class:"btn-indigo ml-auto",type:"submit"},{default:i(()=>[G]),_:1},8,["loading"])])],32)]),t("h2",J,[s(d,{class:"text-gray-700 hover:text-gray-600",href:"/panel/posts"},{default:i(()=>[K]),_:1})]),t("div",Q,[t("table",W,[X,(l(!0),n(w,null,x(p.user.data.posts,e=>(l(),n("tr",{key:e.id,class:"hover:bg-gray-100 focus-within:bg-gray-100"},[t("td",Y,[s(d,{class:"flex items-center px-6 py-4 focus:text-indigo-500",href:`/panel/posts/${e.id}/edit`},{default:i(()=>[e.thumbnail?(l(),n("img",{key:0,class:"block my-2 mr-2 w-10 h-10 rounded-full",src:e.thumbnail},null,8,Z)):_("",!0),m(" "+f(e.title),1)]),_:2},1032,["href"])]),t("td",$,[s(d,{class:"flex items-center px-6 py-4",href:`/panel/posts/${e.id}/edit`,tabindex:"-1"},{default:i(()=>[m(f(e.created_at),1)]),_:2},1032,["href"])]),t("td",ee,[s(d,{class:"flex items-center px-4",href:`/panel/posts/${e.id}/edit`,tabindex:"-1"},{default:i(()=>[s(U,{name:"cheveron-right",class:"block w-6 h-6 fill-gray-400"})]),_:2},1032,["href"])])]))),128)),((h=y.posts)==null?void 0:h.length)===0?(l(),n("tr",oe,re)):_("",!0)])])])}const we=E(I,[["render",se]]);export{we as default};
