import{H as L,L as S,b as u,c as s,f as o,g as l,j as t,k as a,q as _,F as f,y as h,z as y,A as v,n as m,m as b,v as N}from"./main.2df52062.js";import j from"./Icon.c9aa07d7.js";import{m as k}from"./index.03b199cd.js";import q from"./Layout.9742cb54.js";import H from"./SearchFilter.9ca779cb.js";import P from"./Pagination.96b3c391.js";import{_ as U}from"./_plugin-vue_export-helper.cdc0426e.js";import"./Logo.f8b465e3.js";import"./Dropdown.7682805b.js";import"./MainMenu.24b786c3.js";import"./FlashMessages.5dd45041.js";const B={components:{Head:L,Icon:j,Link:S,SearchFilter:H,Pagination:P},layout:q,props:{posts:Array,categories:Object,status:Object},computed:{isAdmin(){return this.$page.props.user.data.user_type==="Admin"}},data(){return{form:{q:"",category_id:null,is_active:null}}},watch:{form:{deep:!0,handler:function(){this.$inertia.get("/panel/posts",k(this.form),{preserveState:!0})}}},methods:{reset(){this.form=k(this.form,()=>null)}}},F=t("h1",{class:"mb-8 text-3xl font-bold text-gray-700"},"Posts",-1),z={class:"flex items-center justify-between mb-6"},D=t("label",{class:"block text-gray-700"},"Category:",-1),I=["value"],O=["value"],R=t("label",{class:"block text-gray-700"},"Status:",-1),T=["value"],E=["value"],M=t("span",null,"Create",-1),G=t("span",{class:"hidden md:inline"},"\xA0Post",-1),J={class:"bg-white rounded-md shadow overflow-x-auto"},K={class:"w-full whitespace-nowrap"},Q={class:"text-left font-bold"},W=t("th",{class:"pb-4 pt-6 px-6"},"Title",-1),X=t("th",{class:"pb-4 pt-6 px-6"},"Status",-1),Y={key:0,class:"pb-4 pt-6 px-6"},Z=t("th",{class:"pb-4 pt-6 px-6",colspan:"2"},"Created at",-1),$={class:"border-t"},ee=["src"],te={class:"border-t"},se={key:0,class:"border-t"},oe={class:"border-t"},le={class:"w-px border-t"},ae={key:0},ne=t("td",{class:"px-6 py-4 border-t",colspan:"4"},"No posts found.",-1),re=[ne];function ie(g,n,d,ce,r,p){var x;const w=u("Head"),V=u("search-filter"),i=u("Link"),A=u("icon"),C=u("pagination");return s(),o("div",null,[l(w,{title:"Posts"}),F,t("div",z,[l(V,{modelValue:r.form.q,"onUpdate:modelValue":n[2]||(n[2]=e=>r.form.q=e),class:"mr-4 w-full max-w-md",onReset:p.reset},{default:a(()=>[D,y(t("select",{"onUpdate:modelValue":n[0]||(n[0]=e=>r.form.category_id=e),class:"form-select mt-1 w-full"},[t("option",{value:g.all},"All",8,I),(s(!0),o(f,null,h(d.categories,(e,c)=>(s(),o("option",{key:e,value:c},m(e),9,O))),128))],512),[[v,r.form.category_id]]),R,y(t("select",{"onUpdate:modelValue":n[1]||(n[1]=e=>r.form.is_active=e),class:"form-select mt-1 w-full"},[t("option",{value:g.all},"All",8,T),(s(!0),o(f,null,h(d.status,(e,c)=>(s(),o("option",{key:e,value:c},m(e),9,E))),128))],512),[[v,r.form.is_active]])]),_:1},8,["modelValue","onReset"]),l(i,{class:"btn-indigo",href:"posts/create"},{default:a(()=>[M,G]),_:1})]),t("div",J,[t("table",K,[t("tr",Q,[W,X,p.isAdmin?(s(),o("th",Y,"User")):_("",!0),Z]),(s(!0),o(f,null,h(d.posts.data,e=>(s(),o("tr",{key:e.slug,class:"hover:bg-gray-100 focus-within:bg-gray-100"},[t("td",$,[l(i,{class:"flex items-center px-6 py-4 focus:text-indigo-500",href:`/panel/posts/${e.slug}/edit`},{default:a(()=>[e.thumbnail?(s(),o("img",{key:0,class:"block -my-2 mr-2 w-10 h-10 rounded-full",src:e.thumbnail},null,8,ee)):_("",!0),b(" "+m(e.title),1)]),_:2},1032,["href"])]),t("td",te,[l(i,{class:"flex content-center items-center px-6 py-4",href:`/panel/posts/${e.slug}/edit`,tabindex:"-1"},{default:a(()=>[t("span",{class:N(["h-5 w-5 rounded-full",e.status=="Active"?"bg-green-500":"bg-red-600"])},null,2)]),_:2},1032,["href"])]),p.isAdmin?(s(),o("td",se,[l(i,{class:"flex items-center px-6 py-4",href:`/panel/posts/${e.slug}/edit`,tabindex:"-1"},{default:a(()=>{var c;return[b(m((c=e.user)==null?void 0:c.name),1)]}),_:2},1032,["href"])])):_("",!0),t("td",oe,[l(i,{class:"flex items-center px-6 py-4",href:`/panel/posts/${e.slug}/edit`,tabindex:"-1"},{default:a(()=>[b(m(e.created_at),1)]),_:2},1032,["href"])]),t("td",le,[l(i,{class:"flex items-center px-4",href:`/panel/posts/${e.slug}/edit`,tabindex:"-1"},{default:a(()=>[l(A,{name:"cheveron-right",class:"block w-6 h-6 fill-gray-400"})]),_:2},1032,["href"])])]))),128)),((x=d.posts)==null?void 0:x.length)===0?(s(),o("tr",ae,re)):_("",!0)])]),l(C,{class:"mt-6",links:d.posts.meta.links},null,8,["links"])])}const ve=U(B,[["render",ie]]);export{ve as default};
