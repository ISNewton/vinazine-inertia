import{_ as c}from"./_plugin-vue_export-helper.cdc0426e.js";import{c as r,f as i,n,q as d,j as s,m,v as u}from"./main.2df52062.js";const f={props:{modelValue:File,label:String,accept:String,errors:{type:Array,default:()=>[]}},emits:["update:modelValue"],watch:{modelValue(l){l||(this.$refs.file.value="")}},methods:{filesize(l){var e=Math.floor(Math.log(l)/Math.log(1024));return(l/Math.pow(1024,e)).toFixed(2)*1+" "+["B","kB","MB","GB","TB"][e]},browse(){this.$refs.file.click()},change(l){this.$emit("update:modelValue",l.target.files[0])},remove(){this.$emit("update:modelValue",null)}}},h={key:0,class:"form-label"},_=["accept"],g={key:0,class:"p-2"},x=s("span",{class:"px-4 py-1 text-white text-xs font-medium hover:bg-gray-700 rounded-sm bg-gray-600"},"Browse",-1),y=[x],b={key:1,class:"flex items-center justify-between p-2"},v={class:"flex-1 pr-1"},p={class:"text-gray-500 text-xs"},V=s("span",{class:"px-4 py-1 text-white text-xs font-medium bg-gray-600 hover:bg-gray-700 rounded-sm"},"Remove",-1),k=[V],w={key:1,class:"form-error"};function B(l,e,t,C,M,a){return r(),i("div",null,[t.label?(r(),i("label",h,n(t.label)+":",1)):d("",!0),s("div",{class:u(["form-input p-0",{error:t.errors.length}])},[s("input",{ref:"file",type:"file",accept:t.accept,class:"hidden",onChange:e[0]||(e[0]=(...o)=>a.change&&a.change(...o))},null,40,_),t.modelValue?(r(),i("div",b,[s("div",v,[m(n(t.modelValue.name)+" ",1),s("span",p,"("+n(a.filesize(t.modelValue.size))+")",1)]),s("button",{onClick:e[2]||(e[2]=(...o)=>a.remove&&a.remove(...o))},k)])):(r(),i("div",g,[s("button",{type:"button",class:"",onClick:e[1]||(e[1]=(...o)=>a.browse&&a.browse(...o))},y)]))],2),t.errors.length?(r(),i("div",w,n(t.errors),1)):d("",!0)])}const N=c(f,[["render",B]]);export{N as default};
